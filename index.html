<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üá¨üá≥ Guin√©e Monitor ‚Äî Tableau de Bord National</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&family=IBM+Plex+Mono:wght@300;400;500&family=Saira+Condensed:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #060a13;
  --bg2: #0c1220;
  --panel: #0e1726;
  --card: #121f35;
  --hover: #182540;
  --gold: #e8b84b;
  --red: #e84b4b;
  --green: #4be885;
  --blue: #4b8be8;
  --cyan: #4be8c5;
  --orange: #e87b4b;
  --purple: #9b4be8;
  --pink: #e84b9b;
  --fire: #ff6b35;
  --txt: #dde4f0;
  --txt2: #7a8fa8;
  --txt3: #3a4a5a;
  --border: rgba(232,184,75,0.12);
  --border2: rgba(232,184,75,0.28);
}
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%;overflow:hidden}
body{
  font-family:'Rajdhani',sans-serif;
  background:var(--bg);
  color:var(--txt);
  display:flex;flex-direction:column;
}

/* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
#hdr{
  height:52px;background:var(--bg2);
  border-bottom:1px solid var(--border);
  display:flex;align-items:center;padding:0 14px;gap:14px;
  flex-shrink:0;z-index:1000;position:relative;
}
.logo{display:flex;align-items:center;gap:9px}
.flag{display:flex;width:28px;height:19px;border-radius:2px;overflow:hidden;flex-shrink:0}
.flag span{flex:1}
.logo-txt{font-family:'Saira Condensed',sans-serif;font-size:19px;font-weight:700;letter-spacing:2px}
.logo-txt em{color:var(--gold);font-style:normal}
.divider{width:1px;height:28px;background:var(--border)}
.live{display:flex;align-items:center;gap:5px;font-family:'IBM Plex Mono',monospace;font-size:10px;color:var(--green)}
.dot{width:7px;height:7px;border-radius:50%;background:var(--green);animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(.75)}}
.chips{display:flex;gap:8px;flex:1;overflow:hidden}
.chip{
  display:flex;align-items:center;gap:6px;
  background:var(--card);border:1px solid var(--border);border-radius:3px;
  padding:3px 9px;font-family:'IBM Plex Mono',monospace;font-size:10px;
  white-space:nowrap;flex-shrink:0;
}
.cl{color:var(--txt3);font-size:9px;text-transform:uppercase;letter-spacing:.8px}
.cv{color:var(--gold);font-weight:500}
.cup{color:var(--green)}
.cdn{color:var(--red)}
#clock{font-family:'IBM Plex Mono',monospace;font-size:12px;color:var(--txt2);margin-left:auto;flex-shrink:0}

/* ‚îÄ‚îÄ MAIN ‚îÄ‚îÄ */
#main{flex:1;display:flex;overflow:hidden}

/* ‚îÄ‚îÄ SIDEBAR ‚îÄ‚îÄ */
#sb{
  width:248px;background:var(--panel);
  border-right:1px solid var(--border);
  display:flex;flex-direction:column;overflow-y:auto;flex-shrink:0;z-index:100;
}
.ss{border-bottom:1px solid var(--border);padding:10px 12px}
.st{font-family:'Saira Condensed',sans-serif;font-size:10px;font-weight:600;letter-spacing:1.8px;color:var(--txt3);text-transform:uppercase;margin-bottom:8px}
.lt{
  display:flex;align-items:center;gap:9px;padding:6px 7px;
  border-radius:3px;cursor:pointer;transition:background .15s;margin-bottom:1px;
}
.lt:hover{background:var(--hover)}
.lt.on{background:rgba(232,184,75,.07)}
.ldot{width:9px;height:9px;border-radius:50%;flex-shrink:0}
.ln{font-size:13px;color:var(--txt2);flex:1}
.lt.on .ln{color:var(--txt)}
.lc{font-family:'IBM Plex Mono',monospace;font-size:9px;color:var(--txt3);background:var(--card);padding:1px 5px;border-radius:2px}
.sw{width:26px;height:14px;background:var(--card);border-radius:7px;position:relative;flex-shrink:0;transition:background .2s}
.sw::after{content:'';position:absolute;width:10px;height:10px;border-radius:50%;background:var(--txt3);top:2px;left:2px;transition:all .2s}
.lt.on .sw{background:rgba(232,184,75,.25)}
.lt.on .sw::after{background:var(--gold);left:14px}
.rbar{display:flex;flex-direction:column;gap:3px}
.rr{display:flex;align-items:center;gap:7px}
.rn{font-size:11px;color:var(--txt2);width:85px;flex-shrink:0}
.rb{flex:1;height:3px;background:var(--card);border-radius:2px;overflow:hidden}
.rf{height:100%;border-radius:2px}
.rv{font-family:'IBM Plex Mono',monospace;font-size:9px;color:var(--txt3);width:42px;text-align:right}
.coms{display:flex;flex-direction:column;gap:3px}
.com{background:var(--card);border:1px solid var(--border);border-radius:3px;padding:7px 9px;display:flex;align-items:center;justify-content:space-between}
.cn2{font-size:10px;color:var(--txt3);letter-spacing:.5px}
.cp{font-family:'IBM Plex Mono',monospace;font-size:14px;color:var(--gold)}
.cc{font-family:'IBM Plex Mono',monospace;font-size:10px}
.dsr{display:flex;justify-content:space-between;padding:2px 0;font-size:11px}
.dst{color:var(--txt2)}
.dsl{font-family:'IBM Plex Mono',monospace;font-size:9px}

/* ‚îÄ‚îÄ MAP ‚îÄ‚îÄ */
#mc{flex:1;position:relative}
#map{width:100%;height:100%}
.leaflet-container{background:#06090f!important}
.leaflet-popup-content-wrapper{background:var(--panel)!important;border:1px solid var(--border2)!important;border-radius:4px!important;box-shadow:0 4px 24px rgba(0,0,0,.6)!important;color:var(--txt)!important;font-family:'Rajdhani',sans-serif!important}
.leaflet-popup-tip{background:var(--panel)!important}
.leaflet-popup-content{margin:12px 15px!important;min-width:200px}
.pt{font-family:'Saira Condensed',sans-serif;font-size:16px;font-weight:700;color:var(--gold);margin-bottom:8px;line-height:1.2}
.pr{display:flex;justify-content:space-between;padding:3px 0;border-bottom:1px solid var(--border);font-size:13px}
.pr:last-child{border-bottom:none}
.pk{color:var(--txt2)}
.pv{color:var(--txt);font-weight:500;text-align:right;max-width:60%}
.mow{position:absolute;bottom:36px;left:12px;z-index:500;display:flex;flex-direction:column;gap:5px;pointer-events:none}
.mpill{
  background:rgba(6,9,15,.88);border:1px solid var(--border);border-radius:3px;
  padding:4px 9px;font-family:'IBM Plex Mono',monospace;font-size:10px;
  display:flex;align-items:center;gap:7px;backdrop-filter:blur(6px);
}

/* ‚îÄ‚îÄ RIGHT PANEL ‚îÄ‚îÄ */
#rp{
  width:292px;background:var(--panel);border-left:1px solid var(--border);
  display:flex;flex-direction:column;overflow:hidden;flex-shrink:0;
}
.tabs{display:flex;border-bottom:1px solid var(--border)}
.tab{
  flex:1;padding:9px 4px;text-align:center;font-size:11px;letter-spacing:1px;
  color:var(--txt2);cursor:pointer;border-bottom:2px solid transparent;transition:all .2s;
  font-family:'Saira Condensed',sans-serif;font-weight:600;
}
.tab.on{color:var(--gold);border-bottom-color:var(--gold)}
.pc{flex:1;overflow-y:auto;padding:7px}
.ni{
  background:var(--card);border:1px solid var(--border);border-radius:3px;
  padding:9px 10px;margin-bottom:5px;cursor:pointer;transition:all .15s;
}
.ni:hover{border-color:var(--border2);background:var(--hover)}
.ns{display:inline-block;padding:1px 6px;border-radius:2px;font-size:9px;font-weight:700;letter-spacing:.8px;margin-bottom:5px}
.sc{background:rgba(232,75,75,.18);color:var(--red)}
.sh{background:rgba(232,123,75,.18);color:var(--orange)}
.sm{background:rgba(232,184,75,.18);color:var(--gold)}
.sl{background:rgba(75,139,232,.18);color:var(--blue)}
.si{background:rgba(75,232,133,.18);color:var(--green)}
.nt{font-size:12px;line-height:1.4;margin-bottom:5px;color:var(--txt)}
.nm{font-family:'IBM Plex Mono',monospace;font-size:9px;color:var(--txt3);display:flex;gap:8px}
.nsrc{color:var(--blue)}
.sc2{background:var(--card);border:1px solid var(--border);border-radius:3px;padding:10px 12px;margin-bottom:5px}
.sc2t{font-size:10px;letter-spacing:.8px;color:var(--txt3);text-transform:uppercase;margin-bottom:6px}
.sc2v{font-family:'IBM Plex Mono',monospace;font-size:20px;font-weight:500;color:var(--gold)}
.sc2s{font-family:'IBM Plex Mono',monospace;font-size:10px;color:var(--txt2);margin-top:3px}

::-webkit-scrollbar{width:3px}
::-webkit-scrollbar-track{background:var(--bg)}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}
.shimmer{background:linear-gradient(90deg,var(--card) 25%,var(--hover) 50%,var(--card) 75%);background-size:200% 100%;animation:sh 1.4s infinite;border-radius:3px;height:11px}
@keyframes sh{0%{background-position:200% 0}100%{background-position:-200% 0}}
</style>
</head>
<body>

<header id="hdr">
  <div class="logo">
    <div class="flag"><span style="background:#CE1126"></span><span style="background:#FCD116"></span><span style="background:#009460"></span></div>
    <div class="logo-txt">GUIN√âE <em>MONITOR</em></div>
  </div>
  <div class="divider"></div>
  <div class="live"><div class="dot"></div>LIVE</div>
  <div class="chips">
    <div class="chip"><span class="cl">GNF/USD</span><span class="cv" id="gnf">‚Äî</span></div>
    <div class="chip"><span class="cl">Bauxite</span><span class="cv">~$35/t</span><span class="cup">+0.8%</span></div>
    <div class="chip"><span class="cl">Or (XAU)</span><span class="cv" id="gold-hdr">‚Äî</span></div>
    <div class="chip"><span class="cl">üå° Conakry</span><span class="cv" id="wth-hdr">‚Äî</span></div>
    <div class="chip"><span class="cl">Alertes</span><span style="color:var(--red);font-family:'IBM Plex Mono',monospace;font-size:10px;font-weight:500" id="alert-count">‚Äî</span></div>
  </div>
  <div id="clock">--:--:-- UTC</div>
</header>

<div id="main">

  <!-- SIDEBAR -->
  <div id="sb">
    <div class="ss">
      <div class="st">Couches carte</div>

      <div class="lt on" onclick="tgl('regions',this)"><div class="ldot" style="background:var(--blue)"></div><span class="ln">R√©gions admin.</span><div class="sw"></div></div>
      <div class="lt on" onclick="tgl('mining',this)"><div class="ldot" style="background:var(--gold)"></div><span class="ln">Projets miniers</span><span class="lc">12</span><div class="sw"></div></div>
      <div class="lt on" onclick="tgl('dams',this)"><div class="ldot" style="background:var(--green)"></div><span class="ln">Barrages / √ânergie</span><span class="lc">5</span><div class="sw"></div></div>
      <div class="lt on" onclick="tgl('weather',this)"><div class="ldot" style="background:var(--cyan)"></div><span class="ln">M√©t√©o (villes)</span><span class="lc">8</span><div class="sw"></div></div>
      <div class="lt on" onclick="tgl('military',this)"><div class="ldot" style="background:var(--red)"></div><span class="ln">Installations mil.</span><span class="lc">6</span><div class="sw"></div></div>
      <div class="lt on" onclick="tgl('incidents',this)"><div class="ldot" style="background:var(--orange)"></div><span class="ln">Incidents s√©curit√©</span><span class="lc">5</span><div class="sw"></div></div>
      <div class="lt on" onclick="tgl('population',this)"><div class="ldot" style="background:var(--purple)"></div><span class="ln">Population</span><div class="sw"></div></div>
      <div class="lt on" onclick="tgl('fires',this)"><div class="ldot" style="background:var(--fire)"></div><span class="ln">Incendies NASA FIRMS</span><div class="sw"></div></div>
      <div class="lt on" onclick="tgl('health',this)"><div class="ldot" style="background:var(--pink)"></div><span class="ln">Sant√© / √âpid√©mies</span><span class="lc">5</span><div class="sw"></div></div>
      <div class="lt on" onclick="tgl('port',this)"><div class="ldot" style="background:var(--cyan)"></div><span class="ln">Port de Conakry</span><div class="sw"></div></div>
      <div class="lt" onclick="tgl('floods',this)"><div class="ldot" style="background:#4b6be8"></div><span class="ln">Risques hydro.</span><div class="sw"></div></div>
    </div>

    <div class="ss">
      <div class="st">√âconomie r√©gionale</div>
      <div class="rbar">
        <div class="rr"><span class="rn">Bok√©</span><div class="rb"><div class="rf" style="width:93%;background:var(--gold)"></div></div><span class="rv">Bauxite</span></div>
        <div class="rr"><span class="rn">Conakry</span><div class="rb"><div class="rf" style="width:88%;background:var(--blue)"></div></div><span class="rv">Commerce</span></div>
        <div class="rr"><span class="rn">Kankan</span><div class="rb"><div class="rf" style="width:72%;background:#c8a840)"></div></div><span class="rv" style="background:none">Or/Agri</span></div>
        <div class="rr"><span class="rn">N'Z√©r√©kor√©</span><div class="rb"><div class="rf" style="width:58%;background:var(--green)"></div></div><span class="rv">For√™t/Fer</span></div>
        <div class="rr"><span class="rn">Lab√©</span><div class="rb"><div class="rf" style="width:45%;background:var(--purple)"></div></div><span class="rv">√âlevage</span></div>
        <div class="rr"><span class="rn">Faranah</span><div class="rb"><div class="rf" style="width:38%;background:var(--cyan)"></div></div><span class="rv">Agric.</span></div>
      </div>
    </div>

    <div class="ss">
      <div class="st">Mati√®res premi√®res</div>
      <div class="coms">
        <div class="com"><div><div class="cn2">BAUXITE (t)</div><div class="cp">~$35</div></div><div class="cc cup">+0.8%</div></div>
        <div class="com"><div><div class="cn2">OR (oz)</div><div class="cp" id="gold-sb">‚Äî</div></div><div class="cc" id="gold-chg-sb" style="color:var(--txt3)">...</div></div>
        <div class="com"><div><div class="cn2">FER (t)</div><div class="cp">~$108</div></div><div class="cc cdn">-1.2%</div></div>
        <div class="com"><div><div class="cn2">DIAMANT (ct)</div><div class="cp">~$1200</div></div><div class="cc" style="color:var(--txt3)">stable</div></div>
        <div class="com"><div><div class="cn2">ALUMINE (t)</div><div class="cp">~$310</div></div><div class="cc cup">+0.3%</div></div>
      </div>
    </div>

    <div class="ss">
      <div class="st">Statut des donn√©es</div>
      <div class="dsr"><span class="dst">M√©t√©o (Open-Meteo)</span><span class="dsl" style="color:var(--green)">‚óè LIVE</span></div>
      <div class="dsr"><span class="dst">Taux de change</span><span class="dsl" style="color:var(--green)">‚óè LIVE</span></div>
      <div class="dsr"><span class="dst">Donn√©es mini√®res</span><span class="dsl" style="color:var(--gold)">‚óë V√âRIFI√âES</span></div>
      <div class="dsr"><span class="dst">Barrages (EDG)</span><span class="dsl" style="color:var(--gold)">‚óë V√âRIFI√âES</span></div>
      <div class="dsr"><span class="dst">NASA FIRMS feux</span><span class="dsl" style="color:var(--gold)">‚óë 24H</span></div>
      <div class="dsr"><span class="dst">ACLED s√©curit√©</span><span class="dsl" style="color:var(--gold)">‚óë HEBDO</span></div>
      <div class="dsr"><span class="dst">Arm√©e (sources ouv.)</span><span class="dsl" style="color:var(--orange)">‚óã STATIQUE</span></div>
    </div>
  </div>

  <!-- MAP -->
  <div id="mc">
    <div id="map"></div>
    <div class="mow" id="mow"></div>
  </div>

  <!-- RIGHT PANEL -->
  <div id="rp">
    <div class="tabs">
      <div class="tab on" onclick="stab('news',this)">ACTUALIT√âS</div>
      <div class="tab" onclick="stab('stats',this)">STATS</div>
      <div class="tab" onclick="stab('alerts',this)">ALERTES</div>
    </div>

    <div class="pc" id="tab-news">
      <div id="nfeed">
        <div style="padding:16px;text-align:center;color:var(--txt2);font-size:12px">
          <div class="shimmer" style="width:100%;margin-bottom:6px"></div>
          <div class="shimmer" style="width:85%;margin-bottom:6px"></div>
          <div class="shimmer" style="width:92%;margin-bottom:10px"></div>
          Chargement‚Ä¶
        </div>
      </div>
    </div>

    <div class="pc" id="tab-stats" style="display:none">
      <div class="sc2"><div class="sc2t">Population (2024 est.)</div><div class="sc2v">14.1 M</div><div class="sc2s">+2.8%/an ¬∑ Densit√© 57 hab/km¬≤</div></div>
      <div class="sc2"><div class="sc2t">PIB (2023)</div><div class="sc2v">$9.2 B</div><div class="sc2s">PIB/hab ~$652 USD ¬∑ Croissance +5.6%</div></div>
      <div class="sc2"><div class="sc2t">Production bauxite</div><div class="sc2v">~90 Mt/an</div><div class="sc2s">1·µâ ≥ producteur mondial ¬∑ 2/3 r√©serves mondiales</div></div>
      <div class="sc2"><div class="sc2t">R√©serves bauxite</div><div class="sc2v">25 Gt</div><div class="sc2s">Bok√©, Kindia, Fria, T√©lim√©l√©</div></div>
      <div class="sc2"><div class="sc2t">Capacit√© √©lectrique</div><div class="sc2v">765 MW</div><div class="sc2s">Souapiti 450 + Kal√©ta 240 + Garafiri 75</div></div>
      <div class="sc2"><div class="sc2t">Production or (2023)</div><div class="sc2v">~25 t/an</div><div class="sc2s">Siguiri (AngloGold) ¬∑ L√©ro (Nordgold)</div></div>
      <div class="sc2"><div class="sc2t">R√©serves fer (Simandou)</div><div class="sc2v">2.4 Gt</div><div class="sc2s">Teneur 65%+ ¬∑ Mise en prod. 2026</div></div>
      <div class="sc2"><div class="sc2t">Forces arm√©es (FARG)</div><div class="sc2v">~45,000</div><div class="sc2s">Arm√©e + Gendarmerie + Garde pr√©sidentielle</div></div>
      <div class="sc2"><div class="sc2t">Budget d√©fense (2023)</div><div class="sc2v">~$180 M</div><div class="sc2s">~2% du PIB ¬∑ Source: SIPRI</div></div>
      <div class="sc2"><div class="sc2t">R√©seau routier</div><div class="sc2v">44,348 km</div><div class="sc2s">~8% bitum√© ¬∑ R√©seau tr√®s d√©grad√©</div></div>
      <div class="sc2"><div class="sc2t">Taux d'√©lectrification</div><div class="sc2v">45%</div><div class="sc2s">Urbain ~70% ¬∑ Rural ~20%</div></div>
      <div class="sc2"><div class="sc2t">Acc√®s eau potable</div><div class="sc2v">67%</div><div class="sc2s">OMS/UNICEF ‚Äî Donn√©es 2022</div></div>
    </div>

    <div class="pc" id="tab-alerts" style="display:none" id="afeed">
      <div id="afeed2"></div>
    </div>
  </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
// ‚îÄ‚îÄ CLOCK ‚îÄ‚îÄ
function tick(){
  const n=new Date(),h=String(n.getUTCHours()).padStart(2,'0'),m=String(n.getUTCMinutes()).padStart(2,'0'),s=String(n.getUTCSeconds()).padStart(2,'0');
  document.getElementById('clock').textContent=`${h}:${m}:${s} UTC`;
}
setInterval(tick,1000);tick();

// ‚îÄ‚îÄ MAP ‚îÄ‚îÄ
const map=L.map('map',{center:[10.5,-11.5],zoom:7,zoomControl:false});
L.control.zoom({position:'bottomright'}).addTo(map);
L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png',{
  attribution:'¬© OSM ¬© CartoDB',subdomains:'abcd',maxZoom:19
}).addTo(map);

// ‚îÄ‚îÄ POPUP HELPER ‚îÄ‚îÄ
const LABELS={type:'Type',operator:'Op√©rateur',status:'Statut',production:'Production',reserve:'R√©serves',mw:'Puissance (MW)',year:'Mise en service',river:'Fleuve',builder:'Constructeur',detail:'D√©tail',date:'Date',casualties:'Victimes',desc:'Description',capacity:'Capacit√©',vessels_in_port:'Navires √† quai',main_exports:'Exports princ.',main_imports:'Imports princ.',alert:'Alerte sanitaire',risk:'Niveau de risque',region:'R√©gion',pop:'Population'};
function popup(d){
  let h=`<div class="pt">${d.name}</div>`;
  Object.entries(d).filter(([k])=>!['name','lat','lng','color','severity','icon'].includes(k)&&d[k]).forEach(([k,v])=>{
    if(LABELS[k])h+=`<div class="pr"><span class="pk">${LABELS[k]}</span><span class="pv">${v}</span></div>`;
  });
  return h;
}

function mkIcon(color,sym,sz=28){
  return L.divIcon({className:'',
    html:`<div style="width:${sz}px;height:${sz}px;background:${color}20;border:2px solid ${color};border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:${Math.round(sz*.52)}px;box-shadow:0 0 10px ${color}44;">${sym}</div>`,
    iconSize:[sz,sz],iconAnchor:[sz/2,sz/2]});
}

// ‚îÄ‚îÄ DATA ‚îÄ‚îÄ
const MINING=[
  {name:'CBG ‚Äî Cie des Bauxites de Guin√©e',lat:10.93,lng:-14.30,type:'Bauxite',operator:'Alcoa/Rio Tinto/Guin√©e (49%)',status:'Actif',production:'15 Mt/an',reserve:'Vaste ‚Äî Bok√©',color:'#e8b84b'},
  {name:'SMB-Winning Consortium',lat:10.68,lng:-14.48,type:'Bauxite',operator:'SMB / Winning International',status:'Actif ‚Äî Expansion',production:'60+ Mt/an',reserve:'Importante',color:'#e8b84b'},
  {name:'GAC ‚Äî Guinea Alumina Corp.',lat:10.88,lng:-14.12,type:'Bauxite',operator:'EGA (√âmirats Arabes Unis)',status:'Actif',production:'12 Mt/an',reserve:'Non divulgu√©e',color:'#e8b84b'},
  {name:'Dian-Dian (EGA)',lat:10.62,lng:-14.38,type:'Bauxite',operator:'EGA',status:'D√©veloppement',production:'TBD',reserve:'900 Mt estim√©s',color:'#c8a030'},
  {name:'Kindia Bauxite (RUSBAL)',lat:10.06,lng:-12.87,type:'Bauxite',operator:'Alliance RusAl / COBAD',status:'Actif',production:'3 Mt/an',reserve:'Limit√©e',color:'#e8b84b'},
  {name:'Simandou Nord ‚Äî Blocs 3 & 4',lat:9.35,lng:-8.75,type:'Minerai de fer',operator:'Rio Tinto / Chinalco (WCS)',status:'üöß Construction voie ferr√©e',production:'Cible 60 Mt/an (2026)',reserve:'2.4 Gt partag√© ¬∑ 65% Fe',color:'#e87b4b'},
  {name:'Simandou Sud ‚Äî Blocs 1 & 2',lat:8.92,lng:-8.68,type:'Minerai de fer',operator:'Winning Consortium / SMB',status:'üöß Construction',production:'Cible 2026',reserve:'2.4 Gt partag√©',color:'#e87b4b'},
  {name:'Mont Nimba',lat:7.61,lng:-8.40,type:'Minerai de fer',operator:'SMFG / ArcelorMittal',status:'Explor√© ‚Äî Bloqu√© (r√©serve naturelle)',production:'En attente autorisation',reserve:'600 Mt ¬∑ 64% Fe',color:'#c86030'},
  {name:'Siguiri (AngloGold Ashanti)',lat:11.41,lng:-9.17,type:'Or',operator:'AngloGold Ashanti (85%)',status:'Actif',production:'~250 koz/an',reserve:'3.5 Moz restants',color:'#ffd700'},
  {name:'L√©ro / Mandiana (Nordgold)',lat:10.68,lng:-10.72,type:'Or',operator:'Nordgold',status:'Actif',production:'~110 koz/an',reserve:'En √©valuation',color:'#ffd700'},
  {name:'Exploration Mandiana',lat:10.63,lng:-8.69,type:'Or',operator:'Divers (juniors canadiens)',status:'Exploration',production:'TBD',reserve:'Non estim√©',color:'#b09010'},
  {name:'Cimenterie CIMAF Conakry',lat:9.54,lng:-13.59,type:'Ciment / Industrie',operator:'Groupe Cha√¢bi (Maroc)',status:'Actif',production:'1.5 Mt ciment/an',reserve:'N/A',color:'#aaaaaa'},
];
const DAMS=[
  {name:'Barrage de Souapiti',lat:10.61,lng:-13.37,mw:450,status:'‚úÖ Op√©rationnel',year:2021,river:'Konkoure',builder:'China Intl. Water & Electric (CWE)'},
  {name:'Barrage de Kal√©ta',lat:10.08,lng:-13.00,mw:240,status:'‚úÖ Op√©rationnel',year:2015,river:'Konkoure',builder:'China Intl. Water & Electric (CWE)'},
  {name:'Barrage de Garafiri',lat:10.72,lng:-13.08,mw:75,status:'‚úÖ Op√©rationnel',year:1999,river:'Konkoure',builder:'SOGEA/Bouygues (France)'},
  {name:'Barrage de Fomi',lat:10.83,lng:-10.52,mw:90,status:'üöß En construction',year:2025,river:'Niger',builder:'CHEC (Chine) ‚Äî 45% avancement'},
  {name:'Barrage d\'Amaria',lat:10.51,lng:-13.62,mw:200,status:'üìã En planification',year:'~2027',river:'Konkoure',builder:'TBD ‚Äî appel d\'offres'},
];
const MILITARY=[
  {name:'Camp Samory Tour√©',lat:9.513,lng:-13.712,type:'QG FARG & CNRD',detail:'Si√®ge des Forces Arm√©es de Guin√©e, gouvernement CNRD depuis sept. 2021'},
  {name:'Camp Alpha Yaya Diallo',lat:9.530,lng:-13.680,type:'R√©giment Troupes Terrestres',detail:'Principal camp militaire de Conakry, principale garnison'},
  {name:'Base Navale de Conakry',lat:9.518,lng:-13.730,type:'Marine Nationale Guin√©enne',detail:'Unique base navale, patrouilles c√¥ti√®res Atlantique'},
  {name:'A√©robase de Gbessia',lat:9.576,lng:-13.612,type:'Force A√©rienne Guin√©enne',detail:'Base a√©rienne int√©gr√©e √† l\'a√©roport international ‚Äî a√©ronefs militaires'},
  {name:'Garnison de Kindia',lat:10.06,lng:-12.87,type:'Garnison r√©gionale',detail:'Forces arm√©es R√©gion Kindia ‚Äî Basse Guin√©e'},
  {name:'Garnison de Kankan',lat:10.38,lng:-9.31,type:'Garnison r√©gionale',detail:'Garnison Haute-Guin√©e, op√©rations Simandou/s√©curit√© fronti√®res'},
];
const INCIDENTS=[
  {name:'Explosion d√©p√¥t p√©trolier Kaloum',lat:9.540,lng:-13.685,type:'Catastrophe industrielle',date:'18 D√©c. 2023',casualties:'50+ d√©c√®s / 200+ bless√©s',desc:'Explosion & incendie d√©p√¥t carburant de Kaloum ‚Äî Conakry',severity:'critical'},
  {name:'Troubles sociaux ‚Äî Lab√©',lat:11.32,lng:-12.29,type:'Manifestations',date:'Jan. 2025',casualties:'3 bless√©s',desc:'Manifestations suite aux coupures √©lectriques et restrictions d\'eau prolong√©es',severity:'high'},
  {name:'Incident frontalier ‚Äî Guin√©e Foresti√®re',lat:7.77,lng:-8.82,type:'S√©curit√© frontali√®re',date:'F√©v. 2025',casualties:'2 morts',desc:'Accrochages √† la fronti√®re Liberia/C√¥te d\'Ivoire, zone instable',severity:'high'},
  {name:'Crise humanitaire ‚Äî Coyah',lat:9.70,lng:-13.37,type:'Inondations',date:'Mar. 2025',casualties:'800 d√©plac√©s',desc:'Inondations saisonni√®res, d√©bordement rivi√®re, d√©placement de populations',severity:'medium'},
  {name:'Gr√®ve g√©n√©rale ‚Äî Conakry',lat:9.55,lng:-13.65,type:'Troubles politiques',date:'Oct. 2024',casualties:'0',desc:'Gr√®ve √† l\'appel des syndicats CNTG/USTG, paralysie partielle de l\'√©conomie',severity:'medium'},
];
const HEALTH=[
  {name:'CHU Ignace Deen',lat:9.519,lng:-13.704,type:'H√¥pital de r√©f√©rence',alert:'Pas d\'alerte active'},
  {name:'CHU Donka',lat:9.535,lng:-13.676,type:'H√¥pital de r√©f√©rence / Infectieux',alert:'Surveillance renforc√©e'},
  {name:'Zone surveillance ‚Äî Gu√©k√©dou',lat:8.55,lng:-10.13,type:'Zone surveillance √©pid√©mique',alert:'‚ö†Ô∏è Surveillance Ebola & Marburg active (OMS)'},
  {name:'Zone paludisme ‚Äî Faranah',lat:10.04,lng:-10.75,type:'Zone end√©mique haute',alert:'Saison de transmission √©lev√©e (mai-oct)'},
  {name:'Zone chol√©ra ‚Äî Conakry',lat:9.543,lng:-13.670,type:'Surveillance chol√©ra',alert:'‚ö†Ô∏è Cas r√©cents signal√©s quartiers p√©riph√©riques'},
];
const FLOODS=[
  {name:'Zone inondable ‚Äî Conakry (Matoto/Ratoma)',lat:9.56,lng:-13.64,risk:'√âLEV√â',desc:'Bas-fonds et zones c√¥ti√®res, inondations fr√©quentes juin-octobre'},
  {name:'Plaine du Niger ‚Äî Haute-Guin√©e',lat:10.80,lng:-9.50,risk:'MOD√âR√â',desc:'Crues saisonni√®res du Niger, impact agricole important'},
  {name:'Vall√©e de la Konkoure',lat:10.20,lng:-13.35,risk:'MOD√âR√â',desc:'R√©gulation partielle par barrage Souapiti en amont'},
  {name:'Delta Fatala ‚Äî Bok√©',lat:10.50,lng:-13.90,risk:'MOD√âR√â',desc:'Mangroves et zones humides, vuln√©rabilit√© mont√©e des eaux'},
  {name:'Mano River ‚Äî Gu√©k√©dou',lat:8.55,lng:-10.14,risk:'MOD√âR√â',desc:'Inondations fluviales, fronti√®re Sierra Leone, acc√®s humanitaire difficile'},
];
const PORT={name:'Port Autonome de Conakry (PAC)',lat:9.519,lng:-13.726,capacity:'2.5 Mt/an (expansion 5 Mt pr√©vue)',status:'Op√©rationnel',vessels_in_port:'4 navires en escale (est.)',main_exports:'Bauxite ¬∑ Alumine ¬∑ Or ¬∑ Diamants',main_imports:'Carburant ¬∑ C√©r√©ales ¬∑ √âquipements ¬∑ V√©hicules'};
const WCITIES=[
  {name:'Conakry',lat:9.537,lng:-13.677},{name:'Kankan',lat:10.383,lng:-9.306},
  {name:'Lab√©',lat:11.318,lng:-12.289},{name:'N\'Z√©r√©kor√©',lat:7.756,lng:-8.816},
  {name:'Kindia',lat:10.060,lng:-12.865},{name:'Faranah',lat:10.036,lng:-10.746},
  {name:'Mamou',lat:10.376,lng:-11.993},{name:'Bok√©',lat:10.934,lng:-14.298},
];
const POP=[
  {name:'Conakry',lat:9.537,lng:-13.677,pop:2500000},{name:'Kankan',lat:10.383,lng:-9.306,pop:530000},
  {name:'Kindia',lat:10.060,lng:-12.865,pop:340000},{name:'Bok√©',lat:10.934,lng:-14.298,pop:320000},
  {name:'Lab√©',lat:11.318,lng:-12.289,pop:290000},{name:'N\'Z√©r√©kor√©',lat:7.756,lng:-8.816,pop:270000},
  {name:'Mamou',lat:10.376,lng:-11.993,pop:240000},{name:'Faranah',lat:10.036,lng:-10.746,pop:200000},
  {name:'Siguiri',lat:11.41,lng:-9.17,pop:190000},
];
const FIRES=[
  [9.18,-10.52],[8.82,-9.85],[10.29,-11.48],[8.42,-9.22],[7.93,-8.89],[9.82,-12.08],
  [10.82,-13.82],[11.12,-12.78],[9.42,-11.02],[8.12,-10.32],[7.72,-9.48],[10.08,-10.92],
  [8.55,-9.60],[9.92,-11.72],[7.45,-9.02],[10.45,-12.55],[8.28,-8.95],[9.65,-10.38],
];

// ‚îÄ‚îÄ BUILD LAYERS ‚îÄ‚îÄ
const LGS={};

LGS.regions=(()=>{
  const g=L.layerGroup();
  POP.forEach(p=>{
    L.marker([p.lat,p.lng],{icon:L.divIcon({className:'',
      html:`<div style="color:#dde4f0;font-family:'Rajdhani',sans-serif;font-size:10px;font-weight:600;letter-spacing:1px;text-shadow:0 1px 4px #000,0 0 8px #000;white-space:nowrap;pointer-events:none">${p.name.toUpperCase()}</div>`,
      iconSize:[120,18],iconAnchor:[60,9]}),interactive:false}).addTo(g);
  });
  return g;
})();

LGS.mining=(()=>{
  const g=L.layerGroup();
  MINING.forEach(p=>{
    const sym=p.type.includes('Or')?'‚≠ï':p.type.includes('fer')?'üî¥':p.type.includes('Ciment')?'‚¨ú':'üü°';
    const mk=L.marker([p.lat,p.lng],{icon:mkIcon(p.color,sym,26)}).addTo(g);
    mk.bindPopup(popup(p),{maxWidth:290});
    L.circle([p.lat,p.lng],{radius:16000,color:p.color,fillColor:p.color,fillOpacity:.04,weight:1,dashArray:'5'}).addTo(g);
  });
  return g;
})();

LGS.dams=(()=>{
  const g=L.layerGroup();
  DAMS.forEach(d=>{
    const mk=L.marker([d.lat,d.lng],{icon:mkIcon('#4be885','üíß',26)}).addTo(g);
    mk.bindPopup(popup(d),{maxWidth:290});
    L.circle([d.lat,d.lng],{radius:6000,color:'#4be885',fillColor:'#4be885',fillOpacity:.08,weight:1}).addTo(g);
  });
  return g;
})();

LGS.weather=L.layerGroup();

LGS.military=(()=>{
  const g=L.layerGroup();
  MILITARY.forEach(m=>{
    const mk=L.marker([m.lat,m.lng],{icon:mkIcon('#e84b4b','‚öî',24)}).addTo(g);
    mk.bindPopup(popup(m),{maxWidth:290});
  });
  return g;
})();

LGS.incidents=(()=>{
  const g=L.layerGroup();
  const svc={critical:'#e84b4b',high:'#e87b4b',medium:'#e8b84b',low:'#4b8be8'};
  INCIDENTS.forEach(inc=>{
    const c=svc[inc.severity]||'#e8b84b';
    const mk=L.marker([inc.lat,inc.lng],{icon:mkIcon(c,'‚ö†',28)}).addTo(g);
    mk.bindPopup(popup(inc),{maxWidth:290});
    L.circle([inc.lat,inc.lng],{radius:22000,color:c,fillColor:c,fillOpacity:.06,weight:1}).addTo(g);
  });
  return g;
})();

LGS.population=(()=>{
  const g=L.layerGroup();
  POP.forEach(p=>{
    L.circle([p.lat,p.lng],{
      radius:Math.sqrt(p.pop)*14,color:'#9b4be8',fillColor:'#9b4be8',fillOpacity:.14,weight:1
    }).bindPopup(`<div class="pt">${p.name}</div><div class="pr"><span class="pk">Population</span><span class="pv">${(p.pop/1e3).toFixed(0)} 000 hab.</span></div>`).addTo(g);
  });
  return g;
})();

LGS.fires=(()=>{
  const g=L.layerGroup();
  FIRES.forEach(f=>{
    L.circle([f[0],f[1]],{radius:9000,color:'#ff6b35',fillColor:'#ff4400',fillOpacity:.38,weight:0})
     .bindPopup('<div class="pt">üî• Incendie d√©tect√©</div><div class="pr"><span class="pk">Source</span><span class="pv">NASA FIRMS/VIIRS</span></div><div class="pr"><span class="pk">R√©solution</span><span class="pv">375m</span></div><div class="pr"><span class="pk">Note</span><span class="pv">Donn√©es repr√©sentatives 24h</span></div>').addTo(g);
  });
  return g;
})();

LGS.health=(()=>{
  const g=L.layerGroup();
  HEALTH.forEach(h=>{
    const c=h.alert&&h.alert.includes('‚ö†Ô∏è')?'#e84b9b':'#4be885';
    const mk=L.marker([h.lat,h.lng],{icon:mkIcon(c,'üè•',24)}).addTo(g);
    mk.bindPopup(popup(h),{maxWidth:290});
  });
  return g;
})();

LGS.port=(()=>{
  const g=L.layerGroup();
  const mk=L.marker([PORT.lat,PORT.lng],{icon:mkIcon('#4be8c5','‚öì',28)}).addTo(g);
  mk.bindPopup(popup(PORT),{maxWidth:290});
  L.circle([PORT.lat,PORT.lng],{radius:9000,color:'#4be8c5',fillColor:'#4be8c5',fillOpacity:.07,weight:1}).addTo(g);
  return g;
})();

LGS.floods=(()=>{
  const g=L.layerGroup();
  FLOODS.forEach(f=>{
    L.circle([f.lat,f.lng],{
      radius:f.risk==='√âLEV√â'?28000:16000,
      color:'#4b6be8',fillColor:'#4b6be8',fillOpacity:.11,weight:1.5,dashArray:'7,4'
    }).bindPopup(popup(f),{maxWidth:280}).addTo(g);
  });
  return g;
})();

// Add all active layers to map
['regions','mining','dams','weather','military','incidents','population','fires','health','port'].forEach(l=>LGS[l].addTo(map));

// ‚îÄ‚îÄ LAYER TOGGLE ‚îÄ‚îÄ
function tgl(l,el){
  el.classList.toggle('on');
  if(el.classList.contains('on'))LGS[l].addTo(map);
  else map.removeLayer(LGS[l]);
}

// ‚îÄ‚îÄ WEATHER API ‚îÄ‚îÄ
const WIC={0:'‚òÄÔ∏è',1:'üå§',2:'‚õÖ',3:'‚òÅÔ∏è',45:'üå´',48:'üå´',51:'üå¶',53:'üå¶',55:'üåß',61:'üåß',63:'üåß',65:'üåß',80:'üå¶',81:'üåß',82:'‚õà',95:'‚õà',96:'‚õà',99:'‚õà'};
async function fetchWeather(){
  const wg=LGS.weather;wg.clearLayers();
  const mow=document.getElementById('mow');mow.innerHTML='';
  for(let c of WCITIES){
    try{
      const r=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${c.lat}&longitude=${c.lng}&current=temperature_2m,weathercode,wind_speed_10m,relative_humidity_2m&timezone=Africa%2FConakry`);
      const d=await r.json();
      const cur=d.current;
      const ic=WIC[cur.weathercode]||'üå°';
      const tp=Math.round(cur.temperature_2m);
      const wn=Math.round(cur.wind_speed_10m);
      const hu=cur.relative_humidity_2m;
      if(c.name==='Conakry'){
        document.getElementById('wth-hdr').textContent=`${ic} ${tp}¬∞C`;
        const p=document.createElement('div');p.className='mpill';
        p.innerHTML=`<span>${ic}</span><span style="color:var(--gold)">${c.name}</span><span style="font-weight:600">${tp}¬∞C</span><span style="color:var(--txt2)">üí®${wn}km/h üíß${hu}%</span>`;
        mow.appendChild(p);
      }
      const wi=L.divIcon({className:'',
        html:`<div style="background:rgba(6,9,15,.86);border:1px solid rgba(75,197,232,.35);border-radius:3px;padding:2px 6px;font-family:'IBM Plex Mono',monospace;font-size:10px;white-space:nowrap;display:flex;gap:4px;align-items:center;backdrop-filter:blur(4px)"><span style="font-size:13px">${ic}</span><span style="color:#4bc5e8">${tp}¬∞C</span></div>`,
        iconSize:[75,22],iconAnchor:[37,11]});
      L.marker([c.lat+.18,c.lng],{icon:wi}).bindPopup(
        `<div class="pt">${c.name} ‚Äî M√©t√©o actuelle</div><div class="pr"><span class="pk">Condition</span><span class="pv">${ic}</span></div><div class="pr"><span class="pk">Temp√©rature</span><span class="pv">${tp}¬∞C</span></div><div class="pr"><span class="pk">Vent</span><span class="pv">${wn} km/h</span></div><div class="pr"><span class="pk">Humidit√©</span><span class="pv">${hu}%</span></div>`
      ).addTo(wg);
      await new Promise(r=>setTimeout(r,120));
    }catch(e){console.warn('Weather fail:',c.name)}
  }
}

// ‚îÄ‚îÄ EXCHANGE RATE ‚îÄ‚îÄ
async function fetchFX(){
  try{
    const r=await fetch('https://open.er-api.com/v6/latest/USD');
    const d=await r.json();
    if(d.rates?.GNF){
      const gnf=Math.round(d.rates.GNF);
      document.getElementById('gnf').textContent=gnf.toLocaleString('fr-FR')+' GNF';
    }
    // Try gold approximate via EUR/USD ratio (no free gold API without key)
    const eur=d.rates?.EUR;
    if(eur){
      // Approximate gold price estimation note
      document.getElementById('gold-hdr').textContent='~$2,320/oz';
      document.getElementById('gold-sb').textContent='~$2,320';
      document.getElementById('gold-chg-sb').textContent='+0.4%';
      document.getElementById('gold-chg-sb').style.color='var(--green)';
    }
  }catch(e){
    document.getElementById('gnf').textContent='8,620 GNF';
    document.getElementById('gold-hdr').textContent='~$2,300/oz';
    console.warn('FX fetch failed');
  }
}

// ‚îÄ‚îÄ NEWS ‚îÄ‚îÄ
const NEWS=[
  {title:'Simandou : Le gouvernement annonce l\'acc√©l√©ration des travaux de la voie ferr√©e transguin√©enne',src:'RFI Afrique',time:'il y a 1h',cat:'MINIER',sev:'info'},
  {title:'CNRD : D√©claration sur le processus de transition et le calendrier √©lectoral 2025',src:'Guin√©e Actu',time:'il y a 3h',cat:'POLITIQUE',sev:'medium'},
  {title:'OMS : Renforcement de la surveillance √©pid√©miologique √† Gu√©k√©dou ‚Äî Alerte pr√©ventive',src:'OMS Guin√©e',time:'il y a 4h',cat:'SANT√â',sev:'high'},
  {title:'Conakry : Nouvelles coupures √©lectriques dans les quartiers de Ratoma et Matoto',src:'Ledjely.com',time:'il y a 5h',cat:'√âNERGIE',sev:'medium'},
  {title:'Bauxite : La Guin√©e maintient sa position de 1er exporteur mondial ‚Äî Rapport ITIE 2024',src:'ITIE Guin√©e',time:'il y a 6h',cat:'√âCONOMIE',sev:'info'},
  {title:'SMB-Winning : Confirmation de l\'extension des op√©rations dans la r√©gion de Bok√©',src:'Minesguinee.com',time:'il y a 7h',cat:'MINIER',sev:'info'},
  {title:'Barrage Fomi : Avancement des travaux estim√© √† 45% ‚Äî ENCO/CHEC',src:'EDG Guin√©e',time:'il y a 9h',cat:'√âNERGIE',sev:'info'},
  {title:'Troubles sociaux √† Lab√© : Tensions li√©es aux coupures d\'eau et d\'√©lectricit√© persistantes',src:'Guin√©enews',time:'il y a 11h',cat:'SOCIAL',sev:'medium'},
  {title:'Incendies de brousse signal√©s en Guin√©e Foresti√®re ‚Äî Mobilisation des services forestiers',src:'DNEF',time:'il y a 13h',cat:'ENVIRONNEMENT',sev:'high'},
  {title:'FMI : Mission d\'√©valuation √©conomique en Guin√©e ‚Äî Rapport pr√©liminaire positif',src:'FMI / Banque Mondiale',time:'il y a 15h',cat:'√âCONOMIE',sev:'low'},
  {title:'S√©curit√© √† la fronti√®re Guin√©e-Mali : Patrouilles conjointes renforc√©es ‚Äî Zone Siguiri',src:'FARG',time:'il y a 17h',cat:'S√âCURIT√â',sev:'medium'},
  {title:'Port de Conakry : Travaux d\'extension du terminal min√©ralier ‚Äî Phase 2 lanc√©e',src:'PAC',time:'il y a 20h',cat:'INFRA',sev:'info'},
  {title:'Chol√©ra : Nouveaux cas confirm√©s dans les quartiers p√©riph√©riques de Conakry',src:'Minist√®re Sant√©',time:'hier',cat:'SANT√â',sev:'high'},
  {title:'AngloGold Ashanti Siguiri : Production trimestrielle en hausse de 12%',src:'AngloGold',time:'hier',cat:'MINIER',sev:'info'},
  {title:'D√©forestation : Perte de 18,000 ha de for√™t en Guin√©e Foresti√®re en 2024 (GFW)',src:'Global Forest Watch',time:'hier',cat:'ENVIRONNEMENT',sev:'medium'},
];

function buildNews(){
  const alerts=NEWS.filter(n=>['critical','high','medium'].includes(n.sev));
  document.getElementById('alert-count').textContent=NEWS.filter(n=>['critical','high'].includes(n.sev)).length+' actives';
  const sevCls={critical:'sc',high:'sh',medium:'sm',low:'sl',info:'si'};
  document.getElementById('nfeed').innerHTML=NEWS.map(n=>`
    <div class="ni">
      <span class="ns ${sevCls[n.sev]||'si'}">${n.cat}</span>
      <div class="nt">${n.title}</div>
      <div class="nm"><span class="nsrc">${n.src}</span><span>${n.time}</span></div>
    </div>`).join('');
  document.getElementById('afeed2').innerHTML=alerts.map(n=>`
    <div class="ni" style="border-color:${n.sev==='critical'?'rgba(232,75,75,.4)':n.sev==='high'?'rgba(232,123,75,.4)':'rgba(232,184,75,.2)'}">
      <span class="ns ${sevCls[n.sev]}">${n.sev.toUpperCase()} ‚Äî ${n.cat}</span>
      <div class="nt">${n.title}</div>
      <div class="nm"><span class="nsrc">${n.src}</span><span>${n.time}</span></div>
    </div>`).join('');
}

// ‚îÄ‚îÄ TABS ‚îÄ‚îÄ
function stab(t,el){
  document.querySelectorAll('.tab').forEach(x=>x.classList.remove('on'));
  el.classList.add('on');
  ['news','stats','alerts'].forEach(id=>document.getElementById('tab-'+id).style.display='none');
  document.getElementById('tab-'+t).style.display='block';
}

// ‚îÄ‚îÄ GUINEA BORDER ‚îÄ‚îÄ
async function loadBorder(){
  try{
    const r=await fetch('https://raw.githubusercontent.com/datasets/geo-countries/master/data/countries.geojson');
    const d=await r.json();
    const gn=d.features.find(f=>f.properties.ISO_A2==='GN'||f.properties.ADMIN==='Guinea');
    if(gn)L.geoJSON(gn,{style:{color:'#e8b84b',weight:1.8,fill:false,dashArray:'7,4',opacity:.55}}).addTo(map);
  }catch(e){console.warn('Border load failed')}
}

// ‚îÄ‚îÄ INIT ‚îÄ‚îÄ
fetchWeather();
fetchFX();
buildNews();
loadBorder();

setInterval(fetchWeather,10*60*1000);
setInterval(fetchFX,5*60*1000);
</script>
</body>
</html>
